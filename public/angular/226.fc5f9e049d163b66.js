"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[226],{3226:(U,v,o)=>{o.r(v),o.d(v,{CalendarModule:()=>u});var h=o(6895),f=o(3127),x=o(9208),p=o(7340),t=o(4650),C=o(953),M=o(4359),y=o(7392);class m{transform(n,...e){return n.substring(0,25)+"..."}}function T(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"span",14),t._uU(2),t.qZA()()),2&r){const e=n.$implicit;t.xp6(2),t.Oqu(e)}}function _(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",21)(1,"p",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.openViewTaskModal(a.task))}),t._uU(2),t.ALo(3,"shortTitle"),t.qZA(),t.TgZ(4,"span",23),t._uU(5),t.ALo(6,"date"),t.qZA()()}if(2&r){const e=t.oxw().$implicit;t.Q6J("@fadeInOut",void 0),t.xp6(2),t.Oqu(t.lcZ(3,3,e.task.title)),t.xp6(3),t.hij("start: ",t.xi3(6,5,e.task.start_date,"HH:mm"),"")}}function Z(r,n){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,_,7,8,"div",20),t.qZA()),2&r){const e=n.$implicit,s=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.position===s)}}function b(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"span",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addNewTask())}),t.TgZ(1,"mat-icon",25),t._uU(2,"add_box"),t.qZA()()}}function k(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",15),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.MAs(3);return t.KtG(a.value="true")})("mouseleave",function(){t.CHM(e);const a=t.MAs(3);return t.KtG(a.value="false")}),t.YNc(1,Z,2,1,"div",16),t._UZ(2,"input",17,18),t.YNc(4,b,3,0,"span",19),t.TgZ(5,"span",14),t._uU(6),t.qZA()()}if(2&r){const e=n.$implicit,s=t.MAs(3),a=t.oxw();t.Q6J("ngClass",e===a.currentDate?"border-orange-700":""),t.xp6(1),t.Q6J("ngForOf",a.currentMonthTasksList),t.xp6(3),t.Q6J("ngIf","true"===s.value),t.xp6(2),t.Oqu(e)}}function A(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"span",14),t._uU(2),t.qZA()()),2&r){const e=n.$implicit;t.xp6(2),t.Oqu(e)}}m.\u0275fac=function(n){return new(n||m)},m.\u0275pipe=t.Yjl({name:"shortTitle",type:m,pure:!0});class g{constructor(n,e){this.taskService=n,this.modalService=e,this.currentMonthTasksList=[],this.monthDays=[],this.prevMonthLastDays=[],this.nextMonthFirstDays=[],this.date=new Date,this.currentYear=this.date.getFullYear(),this.currentMonth=this.date.getMonth(),this.currentDate=this.date.getDate(),this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.createCalendar()}createCalendar(n){"next"===n?(this.currentMonth++,this.currentMonth>11&&(this.currentMonth=0,this.currentYear++)):"prev"===n&&(this.currentMonth--,this.currentMonth<0&&(this.currentMonth=11,this.currentYear--));let e=new Date(this.currentYear,this.currentMonth,1).getDay(),s=new Date(this.currentYear,this.currentMonth+1,0).getDate();const a=0===this.currentMonth?new Date(this.currentYear-1,12,0).getDate():new Date(this.currentYear,this.currentMonth,0).getDate();if(e=0===e?7:e,e>1){const l=a-(e-1);for(let i=a;i>l;i--)this.prevMonthLastDays.unshift(i)}for(let l=1;l<=s;l++)this.monthDays.push(l);const c=this.prevMonthLastDays.length+this.monthDays.length;if(c>35){const l=42-c;for(let i=1;i<=l;i++)this.nextMonthFirstDays.push(i)}else if(c>=30){const l=35-c;for(let i=1;i<=l;i++)this.nextMonthFirstDays.push(i)}this.getCurrentMonthTasks(this.currentYear,this.currentMonth+1)}getCurrentMonthTasks(n,e){this.taskService.getTasksByMonth(n,e).subscribe({next:s=>{console.log(s),s.forEach(a=>{if(a.start_date){const c=new Date(a.start_date);this.currentMonthTasksList.push({position:c.getDate(),task:a})}})},error:s=>{}})}openViewTaskModal(n){this.modalService.openFormModal(x.e,{task:n})}prevMonth(){this.clearCalendar(),this.createCalendar("prev")}nextMonth(){this.clearCalendar(),this.createCalendar("next")}clearCalendar(){this.currentMonthTasksList=[],this.monthDays=[],this.prevMonthLastDays=[],this.nextMonthFirstDays=[]}addNewTask(){alert("Add New Task clicked!")}}g.\u0275fac=function(n){return new(n||g)(t.Y36(C.M),t.Y36(M.Z))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-calendar"]],decls:43,vars:5,consts:[[1,"p-5"],[1,"flex","justify-between","gap-3","py-2"],[1,"flex","gap-2"],["routerLink","/calendar/week",1,"flex","items-center","px-2","py-1","dark:hover:bg-gray-700","dark:hover:text-white","border"],[1,"text-2xl"],[1,"flex","items-center","px-2","py-1","dark:hover:bg-gray-700","dark:hover:text-white","border",3,"click"],[1,"pr-2"],[1,"pl-2"],[1,"mb-5","grid","grid-cols-7"],[1,"py-3","text-center","border"],[1,"grid","grid-cols-7","gap-1"],["class","p-1 min-h-[130px] border border-transparent dark:bg-gray-600 relative",4,"ngFor","ngForOf"],["class","p-1 pb-8 min-h-[130px] border border-transparent dark:bg-gray-800 hover:border-blue-800 relative",3,"ngClass","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"p-1","min-h-[130px]","border","border-transparent","dark:bg-gray-600","relative"],[1,"absolute","bottom-0","right-1","text-[10px]"],[1,"p-1","pb-8","min-h-[130px]","border","border-transparent","dark:bg-gray-800","hover:border-blue-800","relative",3,"ngClass","mouseenter","mouseleave"],[4,"ngFor","ngForOf"],["type","hidden","value","false"],["showAddTaskButton",""],["class","absolute bottom-0 left-1 flex items-center cursor-pointer",3,"click",4,"ngIf"],["style","border-left: 5px solid darkorange;","class","px-2 py-1 text-[13px] cursor-pointer dark:bg-gray-800 dark:hover:bg-gray-700 border rounded-md",4,"ngIf"],[1,"px-2","py-1","text-[13px]","cursor-pointer","dark:bg-gray-800","dark:hover:bg-gray-700","border","rounded-md",2,"border-left","5px solid darkorange"],[3,"click"],[1,"text-[10px]","dark:text-[#b9b901]"],[1,"absolute","bottom-0","left-1","flex","items-center","cursor-pointer",3,"click"],[2,"font-size","21px"]],template:function(n,e){1&n&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"button",3)(4,"mat-icon"),t._uU(5,"calendar_view_week"),t.qZA(),t._uU(6," Calendar Week "),t.qZA(),t.TgZ(7,"button",3)(8,"mat-icon"),t._uU(9,"view_day"),t.qZA(),t._uU(10," Calendar Day "),t.qZA()(),t.TgZ(11,"h3",4),t._uU(12),t.qZA(),t.TgZ(13,"div",2)(14,"button",5),t.NdJ("click",function(){return e.prevMonth()}),t.TgZ(15,"mat-icon"),t._uU(16,"chevron_left"),t.qZA(),t.TgZ(17,"span",6),t._uU(18,"Previous"),t.qZA()(),t.TgZ(19,"button",5),t.NdJ("click",function(){return e.nextMonth()}),t.TgZ(20,"span",7),t._uU(21,"Next"),t.qZA(),t.TgZ(22,"mat-icon"),t._uU(23,"chevron_right"),t.qZA()()()(),t.TgZ(24,"ul",8)(25,"li",9),t._uU(26,"Monday"),t.qZA(),t.TgZ(27,"li",9),t._uU(28,"Tuesday"),t.qZA(),t.TgZ(29,"li",9),t._uU(30,"Wednesday"),t.qZA(),t.TgZ(31,"li",9),t._uU(32,"Thursday"),t.qZA(),t.TgZ(33,"li",9),t._uU(34,"Friday"),t.qZA(),t.TgZ(35,"li",9),t._uU(36,"Saturday"),t.qZA(),t.TgZ(37,"li",9),t._uU(38,"Sunday"),t.qZA()(),t.TgZ(39,"ul",10),t.YNc(40,T,3,1,"li",11),t.YNc(41,k,7,4,"li",12),t.YNc(42,A,3,1,"li",11),t.qZA()()),2&n&&(t.xp6(12),t.AsE("",e.monthNames[e.currentMonth]," ",e.currentYear,""),t.xp6(28),t.Q6J("ngForOf",e.prevMonthLastDays),t.xp6(1),t.Q6J("ngForOf",e.monthDays),t.xp6(1),t.Q6J("ngForOf",e.nextMonthFirstDays))},dependencies:[h.mk,h.sg,h.O5,y.Hw,f.rH,h.uU,m],data:{animation:[(0,p.X$)("fadeInOut",[(0,p.SB)("void",(0,p.oB)({transform:"scale(0.01)",opacity:0})),(0,p.eR)("void <=> *",(0,p.jt)(400))])]}});const D=[{path:"",component:g},{path:"week",loadChildren:()=>Promise.all([o.e(592),o.e(806)]).then(o.bind(o,5806)).then(r=>r.CalendarWeekModule)}];class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[f.Bz.forChild(D),f.Bz]});var F=o(4466);class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[h.ez,y.Ps,d,F.m]})}}]);