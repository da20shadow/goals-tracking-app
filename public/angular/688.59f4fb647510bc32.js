"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[688],{3688:(H,T,s)=>{s.r(T),s.d(T,{AgendaModule:()=>d});var l=s(6895),h=s(3127),m=s(1844),f=s(921),u=s(7340),v=s(9722),e=s(4650),x=s(6814),k=s(4359),A=s(6194);function y(o,n){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.hij(" Today(",t.length,") ")}}function _(o,n){1&o&&(e.TgZ(0,"span",28),e._uU(1,"Today(0)"),e.qZA())}function Z(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addNewTask())}),e._uU(1," + Add Task "),e.qZA()}}const g=function(o){return["/tasks",o]};function b(o,n){if(1&o&&(e.TgZ(0,"li",31)(1,"p",32),e._uU(2),e.qZA(),e.TgZ(3,"span",33),e._uU(4),e.ALo(5,"date"),e.ALo(6,"date"),e.qZA()()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(10,g,t.id)),e.xp6(1),e.Oqu(t.title),e.xp6(2),e.AsE(" Today: ",e.xi3(5,4,t.start_date,"H:mm")," - ",e.xi3(6,7,t.end_date,"H:mm")," ")}}function O(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,b,7,12,"li",30),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function U(o,n){if(1&o&&(e.TgZ(0,"li",31)(1,"p",32),e._uU(2),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(1),e.Q6J("routerLink",e.VKq(7,g,t.id)),e.xp6(1),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,4,t.end_date,"MMM d, y")," ")}}function w(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,U,6,9,"li",30),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function N(o,n){if(1&o&&(e.TgZ(0,"li",31)(1,"p",32),e._uU(2),e.qZA(),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(1),e.Q6J("routerLink",e.VKq(7,g,t.id)),e.xp6(1),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,4,t.start_date,"E, dd MMM, y")," ")}}function C(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,N,6,9,"li",30),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function $(o,n){if(1&o&&(e.TgZ(0,"li",31)(1,"p",32),e._uU(2),e.qZA(),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(1),e.Q6J("routerLink",e.VKq(7,g,t.id)),e.xp6(1),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,4,t.end_date,"H:mm")," ")}}function J(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,$,6,9,"li",30),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function q(o,n){if(1&o&&(e.TgZ(0,"p",36),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("routerLink",e.VKq(2,g,t.id)),e.xp6(1),e.hij(" ",t.title," ")}}function M(o,n){if(1&o&&(e.TgZ(0,"div",37)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.hour)}}function I(o,n){1&o&&(e.TgZ(0,"div",38),e._UZ(1,"div",39)(2,"div",39),e.qZA())}class p{constructor(n,t){this.store$=n,this.modalService=t,this.showOverdueTasks=!1,this.showNextTasks=!1,this.showUnscheduledTasks=!1,this.today=new Date,this.times=[{hour:"00:00"},{hour:"01:00"},{hour:"02:00"},{hour:"03:00"},{hour:"04:00"},{hour:"05:00"},{hour:"06:00"},{hour:"07:00"},{hour:"08:00"},{hour:"09:00"},{hour:"10:00"},{hour:"11:00"},{hour:"12:00"},{hour:"13:00"},{hour:"14:00"},{hour:"15:00"},{hour:"16:00"},{hour:"17:00"},{hour:"18:00"},{hour:"19:00"},{hour:"20:00"},{hour:"21:00"},{hour:"22:00"},{hour:"23:00"}],this.todayTasks$=this.store$.select(m.f.selectTodayTasks),this.overdueTasks$=this.store$.select(m.f.selectOverdueTasks),this.nextTasks$=this.store$.select(m.f.selectNextTasks),this.unscheduledTasks$=this.store$.select(m.f.selectUnscheduledTasks)}ngOnInit(){this.store$.dispatch(f.w.getTodayTasks());let n=new Date;this.hourNow=`${n.getHours()}:${String(n.getMinutes()).padStart(2,"0")}`,this.lineTopPx=`${60*n.getHours()+n.getMinutes()}px`,this.interval=setInterval(()=>{n=new Date,this.hourNow=`${n.getHours()}:${String(n.getMinutes()).padStart(2,"0")}`,this.lineTopPx=`${60*n.getHours()+n.getMinutes()}px`},1e3)}ngOnDestroy(){this.interval&&clearInterval(this.interval)}addNewTask(){this.modalService.openFormModal(v.e).afterClosed().subscribe(t=>{console.log(t),alert("COMING SOON...")})}getOverdueTasks(){this.store$.dispatch(f.w.getOverdueTasks()),console.log("Called Load overdue tasks")}getNextTasks(){console.log("Called Load Next tasks"),this.store$.dispatch(f.w.getNextTasks())}getUnscheduledTasks(){console.log("Called Load Unscheduled tasks"),this.store$.dispatch(f.w.getUnscheduledTasks())}}p.\u0275fac=function(n){return new(n||p)(e.Y36(x.yh),e.Y36(k.Z))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-agenda"]],decls:51,vars:33,consts:[[3,"title"],[1,"px-2","py-5","md:p-5","grid","grid-cols-1","lg:grid-cols-2","gap-5"],[1,"h-[75vh]","p-5","bg-white","dark:bg-gray-900","border","overflow-auto","rounded-md"],[1,"text-2xl"],[1,"my-3"],["type","hidden","value","false"],["showAddTaskButton",""],[1,"mb-3","h-4","flex","gap-3","items-center",3,"mouseenter","mouseleave"],[4,"ngIf","ngIfElse"],["todayTasksTemplate",""],["class","px-2 py-1 text-sm dark:hover:bg-gray-700 dark:active:bg-gray-800 rounded",3,"click",4,"ngIf"],[4,"ngIf"],[1,"my-3","text-sm","cursor-pointer",3,"click"],[1,"h-[75vh]","md:p-5","bg-white","dark:bg-gray-900","border","overflow-auto","rounded-md"],[1,"pl-5","md:pl-0","text-2xl"],[1,"pl-5","md:pl-0","mb-3"],[1,"bg-white","dark:bg-[#111827]","sticky","top-[-20px]","z-20","flex","items-center","gap-2","border-b","dark:border-gray-600"],[1,"pl-5","md:pl-0","w-[70px]","text-sm","whitespace-nowrap"],[1,"w-full"],["class","p-2 m-1 text-sm text-ellipsis overflow-hidden ... cursor-pointer border bg-gray-800 hover:bg-gray-700 rounded ",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex"],[1,"w-[70px]","h-[100%]","border-r","dark:border-gray-600"],["class","w-[70px] h-[60px] flex justify-center text-sm relative",4,"ngFor","ngForOf"],[1,"w-full","relative"],[1,"flex","items-center","absolute","left-[-58px]","z-10"],[1,"px-2","text-orange-900","bg-orange-400","rounded-lg"],[1,"h-[1px]","w-[82vw]","lg:w-[36vw]","bg-orange-400"],["class","h-[59px] border-b dark:border-gray-600",4,"ngFor","ngForOf"],[1,"py-1","text-sm"],[1,"px-2","py-1","text-sm","dark:hover:bg-gray-700","dark:active:bg-gray-800","rounded",3,"click"],["class","p-2 bg-gray-50 hover:bg-gray-100 border border-gray-50 hover:border-gray-400 dark:border-gray-800 dark:hover:border-gray-500 text-sm flex items-center relative cursor-pointer dark:bg-gray-800 dark:hover:bg-gray-700",4,"ngFor","ngForOf"],[1,"p-2","bg-gray-50","hover:bg-gray-100","border","border-gray-50","hover:border-gray-400","dark:border-gray-800","dark:hover:border-gray-500","text-sm","flex","items-center","relative","cursor-pointer","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"text-ellipsis","overflow-hidden","...",3,"routerLink"],[1,"text-sm","absolute","right-1"],[1,"text-[12px]","text-rose-300","absolute","right-1"],[1,"text-[12px]","text-cyan-300","absolute","right-1"],[1,"p-2","m-1","text-sm","text-ellipsis","overflow-hidden","...","cursor-pointer","border","bg-gray-800","hover:bg-gray-700","rounded",3,"routerLink"],[1,"w-[70px]","h-[60px]","flex","justify-center","text-sm","relative"],[1,"h-[59px]","border-b","dark:border-gray-600"],[1,"cursor-pointer","h-[29px]","hover:bg-gray-100","dark:hover:bg-gray-800"]],template:function(n,t){if(1&n){const c=e.EpF();e._UZ(0,"app-page-title",0),e.TgZ(1,"section",1)(2,"div",2)(3,"h3",3),e._uU(4,"My Work"),e.qZA(),e._UZ(5,"hr",4)(6,"input",5,6),e.TgZ(8,"div",7),e.NdJ("mouseenter",function(){e.CHM(c);const i=e.MAs(7);return e.KtG(i.value="true")})("mouseleave",function(){e.CHM(c);const i=e.MAs(7);return e.KtG(i.value="false")}),e.YNc(9,y,2,1,"span",8),e.ALo(10,"async"),e.YNc(11,_,2,0,"ng-template",null,9,e.W1O),e.YNc(13,Z,2,0,"button",10),e.qZA(),e.YNc(14,O,2,1,"ul",11),e.ALo(15,"async"),e.TgZ(16,"p",12),e.NdJ("click",function(){return t.getOverdueTasks(),t.showOverdueTasks=!t.showOverdueTasks}),e._uU(17),e.ALo(18,"async"),e.qZA(),e.YNc(19,w,2,1,"ul",11),e.ALo(20,"async"),e.TgZ(21,"p",12),e.NdJ("click",function(){return t.getNextTasks(),t.showNextTasks=!t.showNextTasks}),e._uU(22,"Next(2)todo"),e.qZA(),e.YNc(23,C,2,1,"ul",11),e.ALo(24,"async"),e.TgZ(25,"p",12),e.NdJ("click",function(){return t.getUnscheduledTasks(),t.showUnscheduledTasks=!t.showUnscheduledTasks}),e._uU(26,"Unscheduled(2)todo"),e.qZA(),e.YNc(27,J,2,1,"ul",11),e.ALo(28,"async"),e.qZA(),e.TgZ(29,"div",13)(30,"h3",14),e._uU(31,"Calendar"),e.qZA(),e._UZ(32,"hr",4),e.TgZ(33,"p",15),e._uU(34),e.ALo(35,"date"),e.qZA(),e.TgZ(36,"div",16)(37,"span",17),e._uU(38,"All Day"),e.qZA(),e.TgZ(39,"div",18),e.YNc(40,q,2,4,"p",19),e.ALo(41,"async"),e.qZA()(),e.TgZ(42,"section",20)(43,"div",21),e.YNc(44,M,3,1,"div",22),e.qZA(),e.TgZ(45,"div",23)(46,"div",24)(47,"span",25),e._uU(48),e.qZA(),e._UZ(49,"span",26),e.qZA(),e.YNc(50,I,3,0,"div",27),e.qZA()()()()}if(2&n){const c=e.MAs(7),a=e.MAs(12);let i;e.Q6J("title","Agenda"),e.xp6(9),e.Q6J("ngIf",e.lcZ(10,16,t.todayTasks$))("ngIfElse",a),e.xp6(4),e.Q6J("ngIf","true"===c.value),e.xp6(1),e.Q6J("ngIf",e.lcZ(15,18,t.todayTasks$)),e.xp6(3),e.hij("Overdue(",null==(i=e.lcZ(18,20,t.overdueTasks$))?null:i.length,")"),e.xp6(2),e.Q6J("ngIf",t.showOverdueTasks&&e.lcZ(20,22,t.overdueTasks$)),e.xp6(4),e.Q6J("ngIf",t.showNextTasks&&e.lcZ(24,24,t.nextTasks$)),e.xp6(4),e.Q6J("ngIf",t.showUnscheduledTasks&&e.lcZ(28,26,t.unscheduledTasks$)),e.xp6(7),e.hij("Today: ",e.xi3(35,28,t.today,"d MMM, EEEE"),""),e.xp6(6),e.Q6J("ngForOf",e.lcZ(41,31,t.todayTasks$)),e.xp6(4),e.Q6J("ngForOf",t.times),e.xp6(2),e.Akn("top:"+t.lineTopPx),e.xp6(2),e.Oqu(t.hourNow),e.xp6(2),e.Q6J("ngForOf",t.times)}},dependencies:[l.sg,l.O5,h.rH,A.T,l.Ov,l.uU],data:{animation:[(0,u.X$)("fadeInOut",[(0,u.SB)("void",(0,u.oB)({transform:"scaleX(0.01)",opacity:0})),(0,u.eR)("void <=> *",(0,u.jt)(400))])]}});const L=[{path:"",component:p}];class r{}r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.Bz.forChild(L),h.Bz]});var Q=s(4006),F=s(7392),Y=s(9017),j=s(990);class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[l.ez,h.Bz,Q.u5,F.Ps,Y.Tx,r,j.m]})}}]);