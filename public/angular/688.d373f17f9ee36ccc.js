"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[688],{3688:(G,f,a)=>{a.r(f),a.d(f,{AgendaModule:()=>u});var g=a(6895),m=a(3127),_=a(1844),d=a(921),p=a(7340),k=a(9722),x=a(104),e=a(4650),v=a(6814),A=a(4359),y=a(6194);const Z=["calendarView"];function w(o,n){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.hij(" Today(",t.length,") ")}}function C(o,n){1&o&&(e.TgZ(0,"span",29),e._uU(1,"Today(0)"),e.qZA())}function b(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewTask())}),e._uU(1," + Add Task "),e.qZA()}}function $(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openViewTaskModal(s))}),e.TgZ(1,"p",33),e._uU(2),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"date"),e.ALo(6,"date"),e.qZA()()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.AsE(" Today: ",e.xi3(5,3,t.start_date,"H:mm")," - ",e.xi3(6,6,t.end_date,"H:mm")," ")}}function M(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,$,7,9,"li",31),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function N(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openViewTaskModal(s))}),e.TgZ(1,"p",33),e._uU(2),e.qZA(),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"date"),e.qZA()()}if(2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,3,t.end_date,"MMM d, y")," ")}}function O(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,N,6,6,"li",31),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function U(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openViewTaskModal(s))}),e.TgZ(1,"p",33),e._uU(2),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.ALo(5,"date"),e.qZA()()}if(2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,3,t.start_date,"E, dd MMM, y")," ")}}function J(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,U,6,6,"li",31),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function F(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openViewTaskModal(s))}),e.TgZ(1,"p",33),e._uU(2),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.ALo(5,"date"),e.qZA()()}if(2&o){const t=n.$implicit;e.Q6J("@fadeInOut",void 0),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,3,t.end_date,"H:mm")," ")}}function q(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,F,6,6,"li",31),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}const I=function(o){return["/tasks",o]};function L(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"p",37)(1,"span",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openViewTaskModal(s))}),e._uU(2),e.qZA(),e.TgZ(3,"span",39),e._uU(4),e.qZA()()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("routerLink",e.VKq(3,I,t.id)),e.xp6(1),e.Oqu(t.title)}}function Q(o,n){if(1&o&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.hour)}}function H(o,n){1&o&&(e.TgZ(0,"div",41),e._UZ(1,"div",42)(2,"div",42),e.qZA())}class h{constructor(n,t){this.store$=n,this.modalService=t,this.showOverdueTasks=!1,this.showNextTasks=!1,this.showUnscheduledTasks=!1,this.today=new Date,this.times=[{hour:"00:00"},{hour:"01:00"},{hour:"02:00"},{hour:"03:00"},{hour:"04:00"},{hour:"05:00"},{hour:"06:00"},{hour:"07:00"},{hour:"08:00"},{hour:"09:00"},{hour:"10:00"},{hour:"11:00"},{hour:"12:00"},{hour:"13:00"},{hour:"14:00"},{hour:"15:00"},{hour:"16:00"},{hour:"17:00"},{hour:"18:00"},{hour:"19:00"},{hour:"20:00"},{hour:"21:00"},{hour:"22:00"},{hour:"23:00"}],this.todayTasks$=this.store$.select(_.f.selectTodayTasks),this.overdueTasks$=this.store$.select(_.f.selectOverdueTasks),this.nextTasks$=this.store$.select(_.f.selectNextTasks),this.unscheduledTasks$=this.store$.select(_.f.selectUnscheduledTasks)}ngOnInit(){this.store$.dispatch(d.w.getTodayTasks()),this.store$.dispatch(d.w.getOverdueTasks()),this.store$.dispatch(d.w.getNextTasks()),this.store$.dispatch(d.w.getUnscheduledTasks());let n=new Date;this.hourNow=`${n.getHours()}:${String(n.getMinutes()).padStart(2,"0")}`,this.lineTopPx=`${60*n.getHours()+n.getMinutes()}px`,this.interval=setInterval(()=>{n=new Date,this.hourNow=`${n.getHours()}:${String(n.getMinutes()).padStart(2,"0")}`,this.lineTopPx=`${60*n.getHours()+n.getMinutes()}px`},1e3)}ngAfterViewInit(){let n=new Date;this.calendarView.nativeElement.scrollTop=60*n.getHours()+n.getMinutes()}ngOnDestroy(){this.interval&&clearInterval(this.interval)}addNewTask(){this.modalService.openFormModal(k.e).afterClosed().subscribe(t=>{console.log(t),alert("COMING SOON...")})}getOverdueTasks(){this.store$.dispatch(d.w.getOverdueTasks()),console.log("Called Load overdue tasks")}getNextTasks(){console.log("Called Load Next tasks"),this.store$.dispatch(d.w.getNextTasks())}getUnscheduledTasks(){console.log("Called Load Unscheduled tasks"),this.store$.dispatch(d.w.getUnscheduledTasks())}openViewTaskModal(n){this.modalService.openFormModal(x.e,{task:n})}logScroll(n){console.log(n)}}h.\u0275fac=function(n){return new(n||h)(e.Y36(v.yh),e.Y36(A.Z))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-agenda"]],viewQuery:function(n,t){if(1&n&&e.Gf(Z,5),2&n){let l;e.iGM(l=e.CRH())&&(t.calendarView=l.first)}},decls:57,vars:45,consts:[[3,"title"],[1,"px-2","py-5","md:p-5","grid","grid-cols-1","lg:grid-cols-2","gap-5"],[1,"h-[75vh]","p-5","bg-white","dark:bg-gray-900","border","overflow-auto","rounded-md"],[1,"text-2xl"],[1,"my-3"],["type","hidden","value","false"],["showAddTaskButton",""],[1,"mb-3","h-4","flex","gap-3","items-center",3,"mouseenter","mouseleave"],[4,"ngIf","ngIfElse"],["todayTasksTemplate",""],["class","px-2 py-1 text-sm dark:hover:bg-gray-700 dark:active:bg-gray-800 rounded",3,"click",4,"ngIf"],[4,"ngIf"],[1,"my-3","text-sm","cursor-pointer",3,"click"],["id","calendarView",1,"h-[75vh]","md:p-5","bg-white","dark:bg-gray-900","border","overflow-auto","rounded-md"],["calendarView",""],[1,"pl-5","md:pl-0","text-2xl"],[1,"pl-5","md:pl-0","mb-3"],[1,"bg-white","dark:bg-[#111827]","sticky","top-[-20px]","z-20","flex","items-center","gap-2","border-b","dark:border-gray-600"],[1,"pl-5","md:pl-0","w-[70px]","text-sm","whitespace-nowrap"],[1,"w-full"],["class","p-2 m-1 text-sm text-ellipsis overflow-hidden ... cursor-pointer border bg-gray-800 hover:bg-gray-700 rounded ",4,"ngFor","ngForOf"],[1,"flex"],[1,"w-[70px]","h-[100%]","border-r","dark:border-gray-600"],["class","w-[70px] h-[60px] flex justify-center text-sm relative",4,"ngFor","ngForOf"],[1,"w-full","relative"],[1,"flex","items-center","absolute","left-[-58px]","z-10"],[1,"px-2","text-orange-900","bg-orange-400","rounded-lg"],[1,"h-[1px]","w-[82vw]","lg:w-[36vw]","bg-orange-400"],["class","h-[59px] border-b dark:border-gray-600",4,"ngFor","ngForOf"],[1,"py-1","text-sm"],[1,"px-2","py-1","text-sm","dark:hover:bg-gray-700","dark:active:bg-gray-800","rounded",3,"click"],["class","p-2 bg-gray-50 hover:bg-gray-100 border border-gray-50 hover:border-gray-400 dark:border-gray-800 dark:hover:border-gray-500 text-sm flex items-center relative cursor-pointer dark:bg-gray-800 dark:hover:bg-gray-700",3,"click",4,"ngFor","ngForOf"],[1,"p-2","bg-gray-50","hover:bg-gray-100","border","border-gray-50","hover:border-gray-400","dark:border-gray-800","dark:hover:border-gray-500","text-sm","flex","items-center","relative","cursor-pointer","dark:bg-gray-800","dark:hover:bg-gray-700",3,"click"],[1,"text-ellipsis","overflow-hidden","..."],[1,"text-sm","absolute","right-1"],[1,"text-[12px]","text-rose-300","absolute","right-1"],[1,"text-[12px]","text-cyan-300","absolute","right-1"],[1,"p-2","m-1","text-sm","text-ellipsis","overflow-hidden","...","cursor-pointer","border","bg-gray-800","hover:bg-gray-700","rounded"],[1,"hidden","md:inline-block",3,"click"],[1,"inline-block","md:hidden",3,"routerLink"],[1,"w-[70px]","h-[60px]","flex","justify-center","text-sm","relative"],[1,"h-[59px]","border-b","dark:border-gray-600"],[1,"cursor-pointer","h-[29px]","hover:bg-gray-100","dark:hover:bg-gray-800"]],template:function(n,t){if(1&n){const l=e.EpF();e._UZ(0,"app-page-title",0),e.TgZ(1,"section",1)(2,"div",2)(3,"h3",3),e._uU(4,"My Work"),e.qZA(),e._UZ(5,"hr",4)(6,"input",5,6),e.TgZ(8,"div",7),e.NdJ("mouseenter",function(){e.CHM(l);const s=e.MAs(7);return e.KtG(s.value="true")})("mouseleave",function(){e.CHM(l);const s=e.MAs(7);return e.KtG(s.value="false")}),e.YNc(9,w,2,1,"span",8),e.ALo(10,"async"),e.YNc(11,C,2,0,"ng-template",null,9,e.W1O),e.YNc(13,b,2,0,"button",10),e.qZA(),e.YNc(14,M,2,1,"ul",11),e.ALo(15,"async"),e.TgZ(16,"p",12),e.NdJ("click",function(){return t.getOverdueTasks(),t.showOverdueTasks=!t.showOverdueTasks}),e._uU(17),e.ALo(18,"async"),e.ALo(19,"async"),e.qZA(),e.YNc(20,O,2,1,"ul",11),e.ALo(21,"async"),e.TgZ(22,"p",12),e.NdJ("click",function(){return t.getNextTasks(),t.showNextTasks=!t.showNextTasks}),e._uU(23),e.ALo(24,"async"),e.ALo(25,"async"),e.qZA(),e.YNc(26,J,2,1,"ul",11),e.ALo(27,"async"),e.TgZ(28,"p",12),e.NdJ("click",function(){return t.getUnscheduledTasks(),t.showUnscheduledTasks=!t.showUnscheduledTasks}),e._uU(29),e.ALo(30,"async"),e.ALo(31,"async"),e.qZA(),e.YNc(32,q,2,1,"ul",11),e.ALo(33,"async"),e.qZA(),e.TgZ(34,"div",13,14)(36,"h3",15),e._uU(37,"Calendar"),e.qZA(),e._UZ(38,"hr",4),e.TgZ(39,"p",16),e._uU(40),e.ALo(41,"date"),e.qZA(),e.TgZ(42,"div",17)(43,"span",18),e._uU(44,"All Day"),e.qZA(),e.TgZ(45,"div",19),e.YNc(46,L,5,5,"p",20),e.ALo(47,"async"),e.qZA()(),e.TgZ(48,"section",21)(49,"div",22),e.YNc(50,Q,3,1,"div",23),e.qZA(),e.TgZ(51,"div",24)(52,"div",25)(53,"span",26),e._uU(54),e.qZA(),e._UZ(55,"span",27),e.qZA(),e.YNc(56,H,3,0,"div",28),e.qZA()()()()}if(2&n){const l=e.MAs(7),i=e.MAs(12);let s,r,T;e.Q6J("title","Agenda"),e.xp6(9),e.Q6J("ngIf",e.lcZ(10,18,t.todayTasks$))("ngIfElse",i),e.xp6(4),e.Q6J("ngIf","true"===l.value),e.xp6(1),e.Q6J("ngIf",e.lcZ(15,20,t.todayTasks$)),e.xp6(3),e.hij("Overdue(",null!=(s=e.lcZ(18,22,t.overdueTasks$))&&s.length?null==(s=e.lcZ(19,24,t.overdueTasks$))?null:s.length:"0",")"),e.xp6(3),e.Q6J("ngIf",t.showOverdueTasks&&e.lcZ(21,26,t.overdueTasks$)),e.xp6(3),e.hij("Next(",null!=(r=e.lcZ(24,28,t.nextTasks$))&&r.length?null==(r=e.lcZ(25,30,t.nextTasks$))?null:r.length:"0",")"),e.xp6(3),e.Q6J("ngIf",t.showNextTasks&&e.lcZ(27,32,t.nextTasks$)),e.xp6(3),e.hij("Unscheduled(",null!=(T=e.lcZ(30,34,t.unscheduledTasks$))&&T.length?null==(T=e.lcZ(31,36,t.unscheduledTasks$))?null:T.length:"0",")"),e.xp6(3),e.Q6J("ngIf",t.showUnscheduledTasks&&e.lcZ(33,38,t.unscheduledTasks$)),e.xp6(8),e.hij("Today: ",e.xi3(41,40,t.today,"d MMM, EEEE"),""),e.xp6(6),e.Q6J("ngForOf",e.lcZ(47,43,t.todayTasks$)),e.xp6(4),e.Q6J("ngForOf",t.times),e.xp6(2),e.Akn("top:"+t.lineTopPx),e.xp6(2),e.Oqu(t.hourNow),e.xp6(2),e.Q6J("ngForOf",t.times)}},dependencies:[g.sg,g.O5,m.rH,y.T,g.Ov,g.uU],data:{animation:[(0,p.X$)("fadeInOut",[(0,p.SB)("void",(0,p.oB)({transform:"scaleX(0.01)",opacity:0})),(0,p.eR)("void <=> *",(0,p.jt)(400))])]}});const E=[{path:"",component:h}];class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]});var Y=a(4006),j=a(7392),V=a(9017),S=a(990);class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[g.ez,m.Bz,Y.u5,j.Ps,V.Tx,c,S.m]})}}]);